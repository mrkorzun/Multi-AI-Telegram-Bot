# Multi-AI Telegram Bot


![Python](https://img.shields.io/badge/Python-3.11%2B-blue)
![aiogram](https://img.shields.io/badge/aiogram-v3-informational)
![OpenRouter](https://img.shields.io/badge/OpenRouter-API-success)
![License: MIT](https://img.shields.io/badge/License-MIT-yellow)
![views](https://visitor-badge.laobi.icu/badge?page_id=mrkorzun.multi-ai-telegram-bot&left_text=views)


Multi-AI Telegram Bot โ ััะพ ัะฐะฑ ะะ-ะฐััะธััะตะฝัะพะฒ ะฒ Telegram ั ะฒัะฑะพัะพะผ ะผะพะดะตะปะธ ัะตัะตะท OpenRouter.
ะะท ะบะพัะพะฑะบะธ ะดะพัััะฟะฝั Llama / DeepSeek / Claude / Grok, ั ะบะฐะถะดะพะน โ ัะพะฑััะฒะตะฝะฝะพะต ะฟัะธะฒะตัััะฒะธะต ะธ ะฟะพะทะธัะธะพะฝะธัะพะฒะฐะฝะธะต.
ะะฝัััะธ โ ัะธััะฐั ะฐััะธัะตะบัััะฐ ะฝะฐ aiogram v3, FSM ะดะปั ะฟัะตะดัะบะฐะทัะตะผัั ัะพััะพัะฝะธะน, ะฐัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะธ ะฐะบะบััะฐัะฝัะน HTML-ัะตะฝะดะตั Markdown-ะพัะฒะตัะพะฒ.

ะะพะดัะพะดะธั ะดะปั ะดะตะผะพะฝัััะฐัะธะน ะทะฐะบะฐะทัะธะบะฐะผ, ะฑัััััั ะฟัะพัะพัะธะฟะพะฒ ะธ A/B-ััะฐะฒะฝะตะฝะธั ะผะพะดะตะปะตะน ะฑะตะท ะฟะตัะตะฟะธััะฒะฐะฝะธั ะบะพะดะฐ.

![screenshot](docs/screenshot.png)



## โจ ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ

- **ะัะฑะพั ะผะพะดะตะปะธ ะฟัะธ ััะฐััะต** (+ ะผะณะฝะพะฒะตะฝะฝะพะต ะฟะตัะตะบะปััะตะฝะธะต ยซBack to Modelsยป).
- **FSM-ะปะพะณะธะบะฐ**: `choosing_model โ waiting_prompt โ generating` โ ะฟัะตะดัะบะฐะทัะตะผัะต ัะตะฝะดะปะตัั, ะฑะตะท ัะฐะพัะฐ.
- **ะัะธะฝััะพะฝะฝะพััั** ะธ **anti-flood**: ะฒะพ ะฒัะตะผั ะณะตะฝะตัะฐัะธะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพะปััะฐะตั ะผัะณะบะพะต ัะฒะตะดะพะผะปะตะฝะธะต, ะปะธัะฝะธะต ัะพะพะฑัะตะฝะธั ะฝะต ะปะพะผะฐัั ะฟะพัะพะบ.
- **HTML-ัะตะฝะดะตั Markdown** + ะฑะตะทะพะฟะฐัะฝะพะต ัะฐะทะฑะธะตะฝะธะต ะดะปะธะฝะฝัั ะพัะฒะตัะพะฒ ะฝะฐ ัะฐััะธ.
- **ะะฐััะพะผะฝัะต ะธะฝััะพ** ะฟะพะด ะบะฐะถะดัั ะผะพะดะตะปั (ัะฐะผะพะฟัะตะทะตะฝัะฐัะธั ะฐััะธััะตะฝัะฐ).
- **ะะฑัะฐะฑะพััะธะบะธ ะพัะธะฑะพะบ ะธ ัะฐะนะผะฐััั** (ะฝะต ยซะฒะธัะธะผยป ะฝะฐ ะผะตะดะปะตะฝะฝัั ะพัะฒะตัะฐั).
- **ะะพะดัะปัะฝะฐั ััััะบัััะฐ** โ ะดะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะน ะผะพะดะตะปะธ ะทะฐะฝะธะผะฐะตั ะผะธะฝััั.
- ะะพะผะฐะฝะดั: **/start**, **/models**, **/cancel**.

## ะััะธัะตะบัััะฐ (ะผะพะดัะปะธ)

- `app/models/*.py` โ ะธะฝัะตะณัะฐัะธะธ ั ะฟัะพะฒะฐะนะดะตัะฐะผะธ (Llama, DeepSeek, Claude, Grok ะธ ั.ะด.).
- `app/Utils/render.py` โ Markdown โ HTML (ัะบัะฐะฝะธัะพะฒะฐะฝะธะต), ะพัะฟัะฐะฒะบะฐ ะดะปะธะฝะฝัั ะพัะฒะตัะพะฒ.
- `app/Utils/handlers.py` โ ะพัะฝะพะฒะฝะพะน ัะพััะธะฝะณ, ัะพััะพัะฝะธั, ะฐะฝัะธ-ัะปัะด.
- `app/Utils/keyboards.py` โ inline-ะบะปะฐะฒะธะฐัััั (ะฒัะฑะพั ะผะพะดะตะปะธ, ะฝะฐะทะฐะด).
- `app/Utils/dicts.py` โ ัะตะตััั ะผะพะดะตะปะตะน: ะทะฐะณะพะปะพะฒะบะธ, ะฐะปะธะฐัั, ััะฝะบัะธะธ ะฒัะทะพะฒะฐ.
- `app/Utils/states.py` โ FSM-ัะพััะพัะฝะธั.
- `main.py` โ ะธะฝะธัะธะฐะปะธะทะฐัะธั ะฑะพัะฐ, ะทะฐะฟััะบ.

## ะะพัะพะบ ัะฐะฑะพัั

```mermaid
stateDiagram-v2
    [*] --> choosing_model
    choosing_model --> generating: model_selected
    generating --> waiting_prompt: intro_sent
    waiting_prompt --> generating: user_prompt
    generating --> waiting_prompt: model_reply
    waiting_prompt --> choosing_model: back_to_models
```

## ๐ ะกัััะบัััะฐ (ะฟัะธะผะตั)
```text
.
โโโ app/
โ   โโโ models/
โ   โ   โโโ anthropic.py
โ   โ   โโโ deepseek.py
โ   โ   โโโ gemini.py
โ   โ   โโโ llama.py
โ   โ   โโโ xai.py
โ   โโโ Utils/
โ   โ   โโโ render.py
โ   โ   โโโ dicts.py
โ   โ   โโโ handlers.py
โ   โ   โโโ keyboards.py
โ   โ   โโโ states.py
โ   โโโ __init__.py
โโโ main.py
โโโ requirements.txt
โโโ .env.example
โโโ .gitignore
โโโ LICENSE
โโโ README.md
```

## ๐ ะัััััะน ััะฐัั
1) ะฃััะฐะฝะพะฒะธัั ะทะฐะฒะธัะธะผะพััะธ:
```bash
python -m venv .venv && . .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

2) ะกะพะทะดะฐัั .env ะฝะฐ ะพัะฝะพะฒะต ะฟัะธะผะตัะฐ:
```bash
cp .env.example .env
# ะฒััะฐะฒััะต TG_TOKEN ะธ AI_TOKEN
```

3) ะะฐะฟััะบ:
```bash
python main.py
```

## โ๏ธ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
- `TG_TOKEN` โ ัะพะบะตะฝ Telegram-ะฑะพัะฐ.
- `AI_TOKEN` โ OpenRouter API key.
- ะะตะพะฑัะทะฐัะตะปัะฝัะต `*_MODEL` ะฟะตัะตะผะตะฝะฝัะต ะฟะพะทะฒะพะปััั ะฟะตัะตะพะฟัะตะดะตะปะธัั ะผะพะดะตะปั ะฟัะพะฒะฐะนะดะตัะฐ.

## ๐ ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะน ะผะพะดะตะปะธ
1. ะกะพะทะดะฐัั `app/models/<new_model>.py` ั ััะฝะบัะธะตะน `async def model_<name>(text: str) -> str`.
2. ะะฐัะตะณะธัััะธัะพะฒะฐัั ะตั ะฒ ัะตะตัััะต ะฒ `dicts.py` (ะธ ะฟัะธ ะถะตะปะฐะฝะธะธ ะฒ ะบะปะฐะฒะธะฐัััะต).
3. ะะพัะพะฒะพ โ ะบะฝะพะฟะบะฐ ะฟะพัะฒะธััั ะฐะฒัะพะผะฐัะธัะตัะบะธ.

## ๐งช ะะพะผะฐะฝะดั
- `/start` โ ะฒัะฑัะฐัั ะผะพะดะตะปั.
- `/models` โ ะฒะตัะฝััััั ะบ ะฒัะฑะพัั.
- `/cancel` โ ัะฑัะพัะธัั ัะพััะพัะฝะธะต.

## ๐ก ะะตะทะพะฟะฐัะฝะพััั
- ะกะตะบัะตัั โ ัะพะปัะบะพ ัะตัะตะท `.env` (ะฒ ัะตะฟะพะทะธัะพัะธะน ะฝะต ะบะพะผะผะธัะธะผ).
- ะะพ ัะผะพะปัะฐะฝะธั ะฑะพั ะฝะต ัะพััะฐะฝัะตั ะดะฐะฝะฝัะต/ะดะธะฐะปะพะณะธ (ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ ะดะพะฑะฐะฒััะต Redis/ะะ).
- ะะปั ะดะพะปะณะธั ะทะฐะฟัะพัะพะฒ โ ัะฐะนะผะฐััั (`asyncio.wait_for`) ะธ ัะตััะฐะธ.

## ๐บ Roadmap
- [ ] RedisStorage ะดะปั FSM
- [ ] ะขะฐะนะผะฐััั ะธ ัะตััะฐะธ ะทะฐะฟัะพัะพะฒ ะบ API
- [ ] ะะตะถะธะผั: creative / code / translate
- [ ] ะััะพัะธั ะบะพะฝัะตะบััะฐ ะฟะพ ะบะฐะถะดะพะน ะผะพะดะตะปะธ
- [ ] Dockerfile + ะดะตะฟะปะพะน (Render/Heroku)




